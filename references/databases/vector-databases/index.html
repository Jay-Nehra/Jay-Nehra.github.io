
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Developer, learner, writer">
      
      
        <meta name="author" content="Jayant Nehra">
      
      
        <link rel="canonical" href="https://Jay-Nehra.github.io/references/databases/vector-databases/">
      
      
        <link rel="prev" href="../../llm/rag-architecture/">
      
      
        <link rel="next" href="../../data/text-data-engineering/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Vector Databases from First Principles - Jayant Nehra</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/custom.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="parchment" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#vector-databases-from-first-principles" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Jayant Nehra" class="md-header__button md-logo" aria-label="Jayant Nehra" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Jayant Nehra
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Vector Databases from First Principles
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="parchment" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to warm parchment"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to warm parchment" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="parchment-warm" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to solarized"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to solarized" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="solarized-teal" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark" for="__palette_3" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12h2v2h-2c-1.38 0-2.74-.35-4-1-2.5 1.3-5.5 1.3-8 0-1.26.65-2.63 1-4 1H2v-2h2c1.39 0 2.78-.47 4-1.33 2.44 1.71 5.56 1.71 8 0 1.22.86 2.61 1.33 4 1.33m0-6h2v2h-2c-1.38 0-2.74-.35-4-1-2.5 1.3-5.5 1.3-8 0-1.26.65-2.63 1-4 1H2V6h2c1.39 0 2.78-.47 4-1.33 2.44 1.71 5.56 1.71 8 0C17.22 5.53 18.61 6 20 6m0 12h2v2h-2c-1.38 0-2.74-.35-4-1-2.5 1.3-5.5 1.3-8 0-1.26.65-2.63 1-4 1H2v-2h2c1.39 0 2.78-.47 4-1.33 2.44 1.71 5.56 1.71 8 0 1.22.86 2.61 1.33 4 1.33"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="ink-dark" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to parchment"  type="radio" name="__palette" id="__palette_3">
    
      <label class="md-header__button md-icon" title="Switch to parchment" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Jay-Nehra/Jay-Nehra.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Jay-Nehra.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../about/" class="md-tabs__link">
        
  
  
    
  
  About

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../portfolio/" class="md-tabs__link">
        
  
  
    
  
  Portfolio

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../resume/" class="md-tabs__link">
        
  
  
    
  
  Resume

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../blog/" class="md-tabs__link">
          
  
  
    
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../notes/" class="md-tabs__link">
          
  
  
    
  
  Notes

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  References

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../concepts/" class="md-tabs__link">
          
  
  
    
  
  Concepts

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../snippets/" class="md-tabs__link">
          
  
  
    
  
  Snippets

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Jayant Nehra" class="md-nav__button md-logo" aria-label="Jayant Nehra" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Jayant Nehra
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Jay-Nehra/Jay-Nehra.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Jay-Nehra.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../portfolio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Portfolio
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resume/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resume
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../blog/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Blog
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../blog/2026-01-why-i-built-this/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Why I Built This Site
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../notes/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Notes
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Notes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Python
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Python
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notes/python/async-explained/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Understanding Python Async/Await
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notes/python/decorators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Decorators
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notes/python/gil-explained/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gil explained
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notes/python/type-hints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Type hints
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Databases
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Databases
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notes/databases/indexing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Indexing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notes/databases/replication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Replication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notes/databases/transactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Transactions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Web
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Web
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notes/web/authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notes/web/cors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../notes/web/rest-apis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rest apis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    References
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    References
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../python/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Python Internals
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_2" id="__nav_7_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Python Internals
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/introspection-and-protocols/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introspection and Python Protocols
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/gil-and-threading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The GIL and Threading in Python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/multiprocessing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multiprocessing in Python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/async-execution-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Async/Await Execution Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/memory-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Memory Management in Python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/decorators-and-closures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Decorators and Closures
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/generators-and-iteration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Generators and Iteration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/import-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    The Python Import System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/context-managers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Context Managers and the with Statement
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/common-gotchas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Common Python Gotchas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/fastapi-execution-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FastAPI Execution Model for LLM Applications
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    LLM
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    LLM
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../llm/agent-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent Architecture from First Principles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../llm/api-patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LLM API Execution Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../llm/rag-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RAG Architecture from First Principles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5" checked>
        
          
          <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Databases
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Databases
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Vector Databases from First Principles
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Vector Databases from First Principles
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-why-vector-databases-exist" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Why Vector Databases Exist
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Why Vector Databases Exist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-problem-semantic-similarity-not-exact-match" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Problem: Semantic Similarity, Not Exact Match
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-traditional-databases-fail" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why Traditional Databases Fail
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-embedding-actually-means" class="md-nav__link">
    <span class="md-ellipsis">
      
        What "Embedding" Actually Means
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-fundamental-operation-nearest-neighbor-search" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Fundamental Operation: Nearest Neighbor Search
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-what-a-vector-is-in-this-context" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. What a Vector Is in This Context
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. What a Vector Is in This Context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed-length-array-of-floats" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fixed-Length Array of Floats
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dimensionality-384-768-1536" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dimensionality: 384, 768, 1536
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-each-dimension-means" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Each Dimension "Means"
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-dimensionality-matters-for-storage-and-speed" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why Dimensionality Matters for Storage and Speed
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-similarity-metrics-the-math-that-matters" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Similarity Metrics: The Math That Matters
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Similarity Metrics: The Math That Matters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cosine-similarity" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cosine Similarity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dot-product" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dot Product
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#euclidean-distance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Euclidean Distance
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-which" class="md-nav__link">
    <span class="md-ellipsis">
      
        When to Use Which
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-breaks-if-you-pick-wrong" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Breaks If You Pick Wrong
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-the-indexing-problem" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. The Indexing Problem
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. The Indexing Problem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#brute-force-why-it-fails-at-scale" class="md-nav__link">
    <span class="md-ellipsis">
      
        Brute Force: Why It Fails at Scale
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-tradeoff-speed-vs-accuracy-vs-memory" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Tradeoff: Speed vs Accuracy vs Memory
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approximate-nearest-neighbor-concept" class="md-nav__link">
    <span class="md-ellipsis">
      
        Approximate Nearest Neighbor Concept
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-indexing-strategies-hnsw" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Indexing Strategies: HNSW
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Indexing Strategies: HNSW">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-it-works" class="md-nav__link">
    <span class="md-ellipsis">
      
        How It Works
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-time-vs-query-time-tradeoffs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Build Time vs Query Time Tradeoffs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Memory Requirements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-hnsw-breaks" class="md-nav__link">
    <span class="md-ellipsis">
      
        When HNSW Breaks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-indexing-strategies-ivf" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Indexing Strategies: IVF
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Indexing Strategies: IVF">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clustering-approach" class="md-nav__link">
    <span class="md-ellipsis">
      
        Clustering Approach
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nprobe-parameter" class="md-nav__link">
    <span class="md-ellipsis">
      
        nprobe Parameter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-ivf-vs-hnsw" class="md-nav__link">
    <span class="md-ellipsis">
      
        When to Use IVF vs HNSW
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-pinecone-concrete-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Pinecone: Concrete Implementation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Pinecone: Concrete Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namespace-and-index-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Namespace and Index Concepts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upsert-query-delete-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Upsert, Query, Delete Operations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metadata Filtering
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-pinecone-handles-vs-what-you-handle" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Pinecone Handles vs What You Handle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-model-of-a-query" class="md-nav__link">
    <span class="md-ellipsis">
      
        Execution Model of a Query
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-hybrid-search" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Hybrid Search
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Hybrid Search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-semantic-search-alone-fails" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why Semantic Search Alone Fails
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combining-dense-and-sparse-vectors" class="md-nav__link">
    <span class="md-ellipsis">
      
        Combining Dense and Sparse Vectors
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reranking" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reranking
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reciprocal-rank-fusion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reciprocal Rank Fusion
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-what-breaks-in-production" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. What Breaks in Production
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. What Breaks in Production">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dimensionality-mismatch-bugs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dimensionality Mismatch Bugs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-rebuild-costs-and-downtime" class="md-nav__link">
    <span class="md-ellipsis">
      
        Index Rebuild Costs and Downtime
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stale-embeddings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Stale Embeddings
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cost-at-scale" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cost at Scale
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary-the-vector-database-mental-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary: The Vector Database Mental Model
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interview-framing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interview Framing
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6" >
        
          
          <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Data
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Data
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/text-data-engineering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Text Data Engineering for LLM Applications
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/data-profiling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Profiling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/data-cleaning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Cleaning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/quality-validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quality Validation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/correction-strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Correction Strategies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_7" >
        
          
          <label class="md-nav__link" for="__nav_7_7" id="__nav_7_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Agents
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Agents
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agents/strands-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Strands Agents: Complete Systems Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_8" >
        
          
          <label class="md-nav__link" for="__nav_7_8" id="__nav_7_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Configuration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environment Variables &amp; python-dotenv
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_9" >
        
          
          <label class="md-nav__link" for="__nav_7_9" id="__nav_7_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Serialization
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Serialization
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../serialization/json/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python's json Module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_10" >
        
          
          <label class="md-nav__link" for="__nav_7_10" id="__nav_7_10_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Filesystem
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Filesystem
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../filesystem/pathlib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python's pathlib Module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_11" >
        
          
          <label class="md-nav__link" for="__nav_7_11" id="__nav_7_11_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    HTTP
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    HTTP
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../http/httpx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    httpx - Modern HTTP Client
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_12" >
        
          
          <label class="md-nav__link" for="__nav_7_12" id="__nav_7_12_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    CLI
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    CLI
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/argparse/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python's argparse Module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../concepts/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Concepts
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/python-internals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python Internals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/llm-systems/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LLM Systems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/agent-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/production-ai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Production AI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/system-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../snippets/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Snippets
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Snippets
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../snippets/bash-find-files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bash find files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../snippets/python-async-requests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python async requests
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../snippets/python-retry-decorator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Python: Retry Decorator with Exponential Backoff
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../snippets/sql-recursive-cte/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sql recursive cte
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-why-vector-databases-exist" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Why Vector Databases Exist
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Why Vector Databases Exist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-problem-semantic-similarity-not-exact-match" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Problem: Semantic Similarity, Not Exact Match
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-traditional-databases-fail" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why Traditional Databases Fail
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-embedding-actually-means" class="md-nav__link">
    <span class="md-ellipsis">
      
        What "Embedding" Actually Means
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-fundamental-operation-nearest-neighbor-search" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Fundamental Operation: Nearest Neighbor Search
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-what-a-vector-is-in-this-context" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. What a Vector Is in This Context
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. What a Vector Is in This Context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixed-length-array-of-floats" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fixed-Length Array of Floats
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dimensionality-384-768-1536" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dimensionality: 384, 768, 1536
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-each-dimension-means" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Each Dimension "Means"
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-dimensionality-matters-for-storage-and-speed" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why Dimensionality Matters for Storage and Speed
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-similarity-metrics-the-math-that-matters" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Similarity Metrics: The Math That Matters
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Similarity Metrics: The Math That Matters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cosine-similarity" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cosine Similarity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dot-product" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dot Product
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#euclidean-distance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Euclidean Distance
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-which" class="md-nav__link">
    <span class="md-ellipsis">
      
        When to Use Which
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-breaks-if-you-pick-wrong" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Breaks If You Pick Wrong
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-the-indexing-problem" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. The Indexing Problem
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. The Indexing Problem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#brute-force-why-it-fails-at-scale" class="md-nav__link">
    <span class="md-ellipsis">
      
        Brute Force: Why It Fails at Scale
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-tradeoff-speed-vs-accuracy-vs-memory" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Tradeoff: Speed vs Accuracy vs Memory
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approximate-nearest-neighbor-concept" class="md-nav__link">
    <span class="md-ellipsis">
      
        Approximate Nearest Neighbor Concept
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-indexing-strategies-hnsw" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Indexing Strategies: HNSW
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Indexing Strategies: HNSW">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-it-works" class="md-nav__link">
    <span class="md-ellipsis">
      
        How It Works
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-time-vs-query-time-tradeoffs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Build Time vs Query Time Tradeoffs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Memory Requirements
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-hnsw-breaks" class="md-nav__link">
    <span class="md-ellipsis">
      
        When HNSW Breaks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-indexing-strategies-ivf" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Indexing Strategies: IVF
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Indexing Strategies: IVF">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clustering-approach" class="md-nav__link">
    <span class="md-ellipsis">
      
        Clustering Approach
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nprobe-parameter" class="md-nav__link">
    <span class="md-ellipsis">
      
        nprobe Parameter
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#when-to-use-ivf-vs-hnsw" class="md-nav__link">
    <span class="md-ellipsis">
      
        When to Use IVF vs HNSW
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-pinecone-concrete-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Pinecone: Concrete Implementation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Pinecone: Concrete Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namespace-and-index-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Namespace and Index Concepts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upsert-query-delete-operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Upsert, Query, Delete Operations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metadata Filtering
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-pinecone-handles-vs-what-you-handle" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Pinecone Handles vs What You Handle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-model-of-a-query" class="md-nav__link">
    <span class="md-ellipsis">
      
        Execution Model of a Query
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-hybrid-search" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Hybrid Search
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Hybrid Search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-semantic-search-alone-fails" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why Semantic Search Alone Fails
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#combining-dense-and-sparse-vectors" class="md-nav__link">
    <span class="md-ellipsis">
      
        Combining Dense and Sparse Vectors
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reranking" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reranking
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reciprocal-rank-fusion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reciprocal Rank Fusion
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-what-breaks-in-production" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. What Breaks in Production
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. What Breaks in Production">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dimensionality-mismatch-bugs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dimensionality Mismatch Bugs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index-rebuild-costs-and-downtime" class="md-nav__link">
    <span class="md-ellipsis">
      
        Index Rebuild Costs and Downtime
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stale-embeddings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Stale Embeddings
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cost-at-scale" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cost at Scale
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary-the-vector-database-mental-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary: The Vector Database Mental Model
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interview-framing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interview Framing
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/Jay-Nehra/Jay-Nehra.github.io/edit/main/docs/references/databases/vector-databases.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="vector-databases-from-first-principles">Vector Databases from First Principles<a class="headerlink" href="#vector-databases-from-first-principles" title="Permanent link">&para;</a></h1>
<p>Vector databases are specialized systems for storing and searching high-dimensional vectors. They power the retrieval component of RAG, recommendation systems, image search, and many other applications.</p>
<p>This document explains vector databases from the ground up: what problem they solve, how similarity search works, what indexing strategies exist, and what breaks in production. We'll use Pinecone as a concrete example, but the concepts apply to any vector database.</p>
<hr />
<h2 id="1-why-vector-databases-exist">1. Why Vector Databases Exist<a class="headerlink" href="#1-why-vector-databases-exist" title="Permanent link">&para;</a></h2>
<p>Vector databases exist because traditional databases cannot efficiently answer the question: "What is most similar to this?"</p>
<h3 id="the-problem-semantic-similarity-not-exact-match">The Problem: Semantic Similarity, Not Exact Match<a class="headerlink" href="#the-problem-semantic-similarity-not-exact-match" title="Permanent link">&para;</a></h3>
<p>Traditional databases excel at exact matching:
- Find the user with ID 12345
- Select all orders from yesterday
- Get products where category = "electronics"</p>
<p>These are equality or range queries. The database uses indexes (B-trees, hash tables) to find exact matches in O(log n) or O(1) time.</p>
<p>But many applications need similarity:
- Find products similar to this one
- Find documents about this topic
- Find images that look like this
- Find the closest answer to this question</p>
<p>Similarity is not equality. "Similar to" is fuzzy, continuous, and domain-dependent. You cannot hash similarity. You cannot binary search for "close enough."</p>
<h3 id="why-traditional-databases-fail">Why Traditional Databases Fail<a class="headerlink" href="#why-traditional-databases-fail" title="Permanent link">&para;</a></h3>
<p>You could store vectors in a traditional database as array columns:</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">documents</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="nb">text</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span><span class="n">embedding</span><span class="w"> </span><span class="nb">FLOAT</span><span class="p">[</span><span class="mi">1536</span><span class="p">]</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p">);</span>
</span></code></pre></div>
<p>But searching requires comparing the query vector to every stored vector:</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">SELECT</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">       </span><span class="n">cosine_similarity</span><span class="p">(</span><span class="n">embedding</span><span class="p">,</span><span class="w"> </span><span class="n">query_vector</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">score</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="k">FROM</span><span class="w"> </span><span class="n">documents</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="k">DESC</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="k">LIMIT</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</span></code></pre></div>
<p>This is O(n)  you scan every row. For a million documents, every query examines a million vectors. For high-dimensional vectors (1536 dimensions), each comparison is expensive.</p>
<p>This doesn't scale. A few thousand documents might be tolerable. Millions become unusable.</p>
<h3 id="what-embedding-actually-means">What "Embedding" Actually Means<a class="headerlink" href="#what-embedding-actually-means" title="Permanent link">&para;</a></h3>
<p>Before we go further, let's be precise about embeddings.</p>
<p>An embedding is a vector  a fixed-length array of floating-point numbers  that represents some object in a way that captures its meaning. Similar objects have similar embeddings (vectors that are close together in vector space).</p>
<p>For text, embeddings are produced by neural networks trained on massive datasets. The network learns to map text to vectors such that semantically similar texts have similar vectors.</p>
<p>The embedding itself is not interpretable. You cannot look at the 734th dimension and say "this measures sentiment." The dimensions are entangled. What matters is the relative positions of vectors  their distances and angles.</p>
<h3 id="the-fundamental-operation-nearest-neighbor-search">The Fundamental Operation: Nearest Neighbor Search<a class="headerlink" href="#the-fundamental-operation-nearest-neighbor-search" title="Permanent link">&para;</a></h3>
<p>The core operation of a vector database is nearest neighbor search:</p>
<p>Given a query vector Q, find the K vectors in the database that are closest to Q.</p>
<p>"Closest" is defined by a distance metric (more on this later). The result is the K most similar items.</p>
<p>This is the retrieval step in RAG. This is how recommendation systems find "items like this one." This is how image search works.</p>
<hr />
<h2 id="2-what-a-vector-is-in-this-context">2. What a Vector Is in This Context<a class="headerlink" href="#2-what-a-vector-is-in-this-context" title="Permanent link">&para;</a></h2>
<p>To work with vector databases effectively, you need to understand what vectors actually are and how they behave.</p>
<h3 id="fixed-length-array-of-floats">Fixed-Length Array of Floats<a class="headerlink" href="#fixed-length-array-of-floats" title="Permanent link">&para;</a></h3>
<p>A vector in this context is simply an array of floating-point numbers:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">embedding</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.023</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.441</span><span class="p">,</span> <span class="mf">0.872</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mf">0.156</span><span class="p">]</span>  <span class="c1"># 1536 numbers</span>
</span></code></pre></div>
<p>Every vector has the same length (dimensionality). You cannot compare vectors of different dimensions.</p>
<p>The numbers are typically 32-bit floats, sometimes 16-bit for storage efficiency. Each vector takes <code>dimension * bytes_per_float</code> storage. A 1536-dimensional vector in float32 takes 6,144 bytes (6KB).</p>
<h3 id="dimensionality-384-768-1536">Dimensionality: 384, 768, 1536<a class="headerlink" href="#dimensionality-384-768-1536" title="Permanent link">&para;</a></h3>
<p>Common embedding dimensions:
- 384 dimensions: Lightweight models (all-MiniLM-L6-v2)
- 768 dimensions: Medium models (all-mpnet-base-v2)
- 1536 dimensions: OpenAI text-embedding-3-small
- 3072 dimensions: OpenAI text-embedding-3-large</p>
<p>Why these numbers? They come from the architecture of the embedding models. 768 is a common transformer hidden size. Multiples and fractions of 768 are typical.</p>
<p>Higher dimensions can capture more nuance but cost more:
- Storage: Linear in dimension
- Search: Roughly linear in dimension (more compute per comparison)
- Memory: Linear in dimension</p>
<p>Diminishing returns apply. Going from 384 to 768 dimensions often helps quality. Going from 1536 to 3072 helps less.</p>
<h3 id="what-each-dimension-means">What Each Dimension "Means"<a class="headerlink" href="#what-each-dimension-means" title="Permanent link">&para;</a></h3>
<p>Nothing. Individually, dimensions are not interpretable.</p>
<p>The embedding model learned to distribute semantic information across all dimensions. No single dimension corresponds to "sentiment" or "topic" or any human-understandable concept.</p>
<p>What matters is the geometry: how vectors relate to each other in the high-dimensional space. Similar texts cluster together. Different topics form different clusters. The structure is in the relationships, not the individual coordinates.</p>
<h3 id="why-dimensionality-matters-for-storage-and-speed">Why Dimensionality Matters for Storage and Speed<a class="headerlink" href="#why-dimensionality-matters-for-storage-and-speed" title="Permanent link">&para;</a></h3>
<p>For a database with N vectors of dimension D:</p>
<p><strong>Storage:</strong> N * D * 4 bytes (for float32)
- 1 million vectors at 1536 dimensions = 6 GB
- 100 million vectors at 1536 dimensions = 600 GB</p>
<p><strong>Search (brute force):</strong> N * D floating-point operations per query
- 1 million vectors at 1536 dimensions = 1.5 billion operations
- Even at 10 billion ops/second, that's 150ms per query</p>
<p>This is why indexing is essential. Brute force doesn't scale.</p>
<hr />
<h2 id="3-similarity-metrics-the-math-that-matters">3. Similarity Metrics: The Math That Matters<a class="headerlink" href="#3-similarity-metrics-the-math-that-matters" title="Permanent link">&para;</a></h2>
<p>Distance metrics define what "similar" means. Different metrics give different results.</p>
<h3 id="cosine-similarity">Cosine Similarity<a class="headerlink" href="#cosine-similarity" title="Permanent link">&para;</a></h3>
<p>Cosine similarity measures the angle between two vectors, ignoring their magnitudes.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>cosine_similarity(A, B) = (A  B) / (|A| * |B|)
</span></code></pre></div>
<p>Where A  B is the dot product and |A| is the magnitude (length) of A.</p>
<p>The result ranges from -1 to 1:
- 1: Identical direction (parallel)
- 0: Perpendicular (unrelated)
- -1: Opposite directions</p>
<p><strong>When to use:</strong> Text embeddings are typically normalized (magnitude = 1), so cosine similarity is standard. It ignores how "strong" a vector is and focuses on direction.</p>
<h3 id="dot-product">Dot Product<a class="headerlink" href="#dot-product" title="Permanent link">&para;</a></h3>
<p>The dot product is the cosine similarity multiplied by both magnitudes:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>dot_product(A, B) = A  B = (A[i] * B[i])
</span></code></pre></div>
<p>For normalized vectors (magnitude 1), dot product equals cosine similarity.</p>
<p><strong>When to use:</strong> When vectors are already normalized, or when you want magnitude to matter (e.g., more "confident" embeddings should score higher).</p>
<h3 id="euclidean-distance">Euclidean Distance<a class="headerlink" href="#euclidean-distance" title="Permanent link">&para;</a></h3>
<p>Euclidean distance is the straight-line distance between points:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>euclidean(A, B) = sqrt((A[i] - B[i]))
</span></code></pre></div>
<p>Lower distance = more similar.</p>
<p><strong>When to use:</strong> When you care about absolute positions in space, not just angles. Common for geographic data or when vectors have meaningful scales.</p>
<h3 id="when-to-use-which">When to Use Which<a class="headerlink" href="#when-to-use-which" title="Permanent link">&para;</a></h3>
<p>For text embeddings from standard models:
- <strong>Use cosine similarity</strong>  it's the default, handles normalized vectors well
- Models are typically trained with cosine similarity as the objective</p>
<p>For other cases:
- <strong>Normalized vectors:</strong> Cosine and dot product are equivalent; use either
- <strong>Non-normalized vectors where magnitude matters:</strong> Dot product
- <strong>Absolute distances matter:</strong> Euclidean</p>
<h3 id="what-breaks-if-you-pick-wrong">What Breaks If You Pick Wrong<a class="headerlink" href="#what-breaks-if-you-pick-wrong" title="Permanent link">&para;</a></h3>
<p>Using the wrong metric produces wrong results:</p>
<p><strong>Euclidean on normalized vectors:</strong> Works, but unnecessarily complex. Euclidean distance and cosine similarity are monotonically related for normalized vectors.</p>
<p><strong>Dot product on non-normalized vectors:</strong> Results will be biased toward high-magnitude vectors regardless of direction. Longer vectors score higher.</p>
<p><strong>Mixed normalization:</strong> If some vectors are normalized and some aren't, comparisons are meaningless.</p>
<p>The most common mistake: not realizing your embedding model normalizes (or doesn't). Check documentation.</p>
<hr />
<h2 id="4-the-indexing-problem">4. The Indexing Problem<a class="headerlink" href="#4-the-indexing-problem" title="Permanent link">&para;</a></h2>
<p>Brute-force search is O(n). For large databases, this is unacceptable. Indexing makes search fast.</p>
<h3 id="brute-force-why-it-fails-at-scale">Brute Force: Why It Fails at Scale<a class="headerlink" href="#brute-force-why-it-fails-at-scale" title="Permanent link">&para;</a></h3>
<p>Brute-force search compares the query to every vector:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">brute_force_search</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="n">Vector</span><span class="p">,</span> <span class="n">database</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Vector</span><span class="p">],</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>    <span class="n">scores</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>    <span class="k">for</span> <span class="n">vec</span> <span class="ow">in</span> <span class="n">database</span><span class="p">:</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>        <span class="n">score</span> <span class="o">=</span> <span class="n">cosine_similarity</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">vec</span><span class="p">)</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>        <span class="n">scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>    <span class="n">top_k_indices</span> <span class="o">=</span> <span class="n">argsort</span><span class="p">(</span><span class="n">scores</span><span class="p">)[</span><span class="o">-</span><span class="n">k</span><span class="p">:]</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>    <span class="k">return</span> <span class="n">top_k_indices</span>
</span></code></pre></div>
<p>Time complexity: O(n * d) where n is database size and d is dimension.</p>
<p>For 1 million vectors at 1536 dimensions:
- ~1.5 billion floating-point operations
- At 10 billion ops/sec = 150ms per query
- Multiply by concurrent queries...</p>
<p>At 10 million vectors, queries take seconds. At 100 million, this approach is useless.</p>
<h3 id="the-tradeoff-speed-vs-accuracy-vs-memory">The Tradeoff: Speed vs Accuracy vs Memory<a class="headerlink" href="#the-tradeoff-speed-vs-accuracy-vs-memory" title="Permanent link">&para;</a></h3>
<p>Indexes trade accuracy for speed. Instead of examining all vectors, they examine a subset likely to contain the nearest neighbors.</p>
<p>This is called Approximate Nearest Neighbor (ANN) search.</p>
<p><strong>Speed:</strong> How fast is search? (queries per second)
<strong>Accuracy:</strong> How often do you find the true nearest neighbors? (recall)
<strong>Memory:</strong> How much RAM does the index require?</p>
<p>You cannot maximize all three. Every index makes tradeoffs:
- More accurate indexes are slower or use more memory
- Faster indexes sacrifice accuracy or require more memory
- Smaller indexes sacrifice speed or accuracy</p>
<p>The art is finding the right balance for your use case.</p>
<h3 id="approximate-nearest-neighbor-concept">Approximate Nearest Neighbor Concept<a class="headerlink" href="#approximate-nearest-neighbor-concept" title="Permanent link">&para;</a></h3>
<p>ANN algorithms work by organizing vectors so that similar vectors are grouped together. When searching:</p>
<ol>
<li>Identify which group(s) the query might belong to</li>
<li>Only search within those groups</li>
<li>Return the best results found</li>
</ol>
<p>This is approximate because:
- The true nearest neighbor might be in a group you didn't search
- Grouping is imperfect</p>
<p>With good algorithms and parameters, recall can be 95-99% while searching only 1-10% of the database. 100x speedup for 1-5% accuracy loss is often acceptable.</p>
<hr />
<h2 id="5-indexing-strategies-hnsw">5. Indexing Strategies: HNSW<a class="headerlink" href="#5-indexing-strategies-hnsw" title="Permanent link">&para;</a></h2>
<p>HNSW (Hierarchical Navigable Small World) is the most popular indexing algorithm for vector databases. Understanding it helps you tune parameters effectively.</p>
<h3 id="how-it-works">How It Works<a class="headerlink" href="#how-it-works" title="Permanent link">&para;</a></h3>
<p>HNSW builds a multi-layer graph of vectors.</p>
<p><strong>The graph structure:</strong>
- Each vector is a node
- Nodes are connected to nearby nodes
- Higher layers have fewer nodes and longer-range connections
- Lower layers have more nodes and shorter-range connections</p>
<p><strong>Building the graph:</strong>
When inserting a vector:
1. Find the nearest neighbors at each layer
2. Add edges from the new vector to those neighbors
3. Randomly decide how many layers to include this vector in</p>
<p><strong>Searching the graph:</strong>
1. Start at the top layer (sparse, long-range connections)
2. Greedily navigate toward the query vector
3. Drop to lower layers when stuck
4. At the bottom layer, collect the best neighbors found</p>
<p>This is like navigating a city: highways (top layers) get you close quickly, then local streets (bottom layers) find the exact destination.</p>
<h3 id="build-time-vs-query-time-tradeoffs">Build Time vs Query Time Tradeoffs<a class="headerlink" href="#build-time-vs-query-time-tradeoffs" title="Permanent link">&para;</a></h3>
<p>HNSW parameters:</p>
<p><strong>M (edges per node):</strong> More edges = better accuracy but slower builds and more memory.
- Typical: 16-64
- Higher M helps accuracy but has diminishing returns</p>
<p><strong>ef_construction:</strong> How many candidates to consider during build.
- Higher = better index quality, slower builds
- Typical: 100-500
- Set high if you can afford build time</p>
<p><strong>ef_search:</strong> How many candidates to consider during search.
- Higher = better accuracy, slower queries
- Can be tuned per query
- Typical: 50-200</p>
<h3 id="memory-requirements">Memory Requirements<a class="headerlink" href="#memory-requirements" title="Permanent link">&para;</a></h3>
<p>HNSW is memory-heavy. The index must fit in RAM.</p>
<p>Memory = vectors + graph edges</p>
<p>For N vectors of dimension D with M edges:
- Vectors: N * D * 4 bytes (float32)
- Graph: N * M * 8 bytes (edges + metadata)</p>
<p>For 10 million vectors at 1536 dimensions with M=16:
- Vectors: 60 GB
- Graph: ~1.3 GB
- Total: ~62 GB RAM needed</p>
<p>This is why HNSW is fast  it trades memory for speed.</p>
<h3 id="when-hnsw-breaks">When HNSW Breaks<a class="headerlink" href="#when-hnsw-breaks" title="Permanent link">&para;</a></h3>
<p><strong>High churn:</strong> Deletes and updates are slow. HNSW is optimized for append-only workloads. Heavy deletions degrade index quality.</p>
<p><strong>Very high dimensions:</strong> As dimensions grow, the "curse of dimensionality" makes distances more uniform. HNSW's graph navigation becomes less effective.</p>
<p><strong>Memory constraints:</strong> If the index doesn't fit in RAM, performance degrades catastrophically. HNSW is not designed for disk-based operation.</p>
<hr />
<h2 id="6-indexing-strategies-ivf">6. Indexing Strategies: IVF<a class="headerlink" href="#6-indexing-strategies-ivf" title="Permanent link">&para;</a></h2>
<p>IVF (Inverted File Index) is an alternative approach that trades some accuracy for reduced memory.</p>
<h3 id="clustering-approach">Clustering Approach<a class="headerlink" href="#clustering-approach" title="Permanent link">&para;</a></h3>
<p>IVF divides the vector space into clusters:</p>
<ol>
<li><strong>Training:</strong> Run k-means clustering on a sample of vectors. Find N centroids.</li>
<li><strong>Indexing:</strong> For each vector, find its nearest centroid. Store the vector in that centroid's "bucket."</li>
<li><strong>Search:</strong> Find the nearest centroids to the query. Only search vectors in those buckets.</li>
</ol>
<p>If you search 10 buckets out of 1000, you examine 1% of vectors.</p>
<h3 id="nprobe-parameter">nprobe Parameter<a class="headerlink" href="#nprobe-parameter" title="Permanent link">&para;</a></h3>
<p><code>nprobe</code> controls how many clusters to search.</p>
<p><strong>nprobe = 1:</strong> Only search the nearest cluster. Fast but low recall. The true nearest neighbor might be in an adjacent cluster.</p>
<p><strong>nprobe = 10:</strong> Search 10 nearest clusters. Slower but much better recall.</p>
<p><strong>nprobe = all:</strong> Equivalent to brute force.</p>
<p>This is a direct accuracy/speed tradeoff tunable at query time.</p>
<h3 id="when-to-use-ivf-vs-hnsw">When to Use IVF vs HNSW<a class="headerlink" href="#when-to-use-ivf-vs-hnsw" title="Permanent link">&para;</a></h3>
<p><strong>HNSW advantages:</strong>
- Generally better accuracy at same speed
- Good for medium-sized datasets (up to ~100M vectors with enough RAM)
- Better for high recall requirements</p>
<p><strong>IVF advantages:</strong>
- Lower memory footprint (no graph structure)
- Can use disk-based storage
- Faster index building
- Works with compression (IVF-PQ)</p>
<p><strong>Use IVF when:</strong>
- Memory is constrained
- Dataset is very large
- You can tolerate lower recall
- You need fast index updates</p>
<p><strong>Use HNSW when:</strong>
- Dataset fits in RAM
- High recall is important
- Query latency is critical</p>
<p>Many production systems use HNSW for hot data (in RAM) and IVF with compression for cold data (on disk).</p>
<hr />
<h2 id="7-pinecone-concrete-implementation">7. Pinecone: Concrete Implementation<a class="headerlink" href="#7-pinecone-concrete-implementation" title="Permanent link">&para;</a></h2>
<p>Let's make this concrete with Pinecone, a managed vector database. The concepts apply to other systems (Weaviate, Qdrant, Milvus, Chroma).</p>
<h3 id="namespace-and-index-concepts">Namespace and Index Concepts<a class="headerlink" href="#namespace-and-index-concepts" title="Permanent link">&para;</a></h3>
<p><strong>Index:</strong> A collection of vectors, like a database. Each index has a fixed dimension and metric.</p>
<p><strong>Namespace:</strong> A partition within an index. Vectors in different namespaces are completely isolated. Useful for multi-tenant applications.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">pinecone</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="c1"># Create index</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="n">pinecone</span><span class="o">.</span><span class="n">create_index</span><span class="p">(</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;my-index&quot;</span><span class="p">,</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>    <span class="n">dimension</span><span class="o">=</span><span class="mi">1536</span><span class="p">,</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>    <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;cosine&quot;</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="p">)</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="c1"># Connect</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="n">index</span> <span class="o">=</span> <span class="n">pinecone</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="s2">&quot;my-index&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="upsert-query-delete-operations">Upsert, Query, Delete Operations<a class="headerlink" href="#upsert-query-delete-operations" title="Permanent link">&para;</a></h3>
<p><strong>Upsert:</strong> Insert or update vectors.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">index</span><span class="o">.</span><span class="n">upsert</span><span class="p">(</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>    <span class="n">vectors</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>        <span class="p">{</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;doc1&quot;</span><span class="p">,</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>            <span class="s2">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>  <span class="c1"># 1536 floats</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>            <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;report.pdf&quot;</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>        <span class="p">},</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>        <span class="p">{</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;doc2&quot;</span><span class="p">,</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>            <span class="s2">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>            <span class="s2">&quot;metadata&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;report.pdf&quot;</span><span class="p">,</span> <span class="s2">&quot;page&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>        <span class="p">}</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>    <span class="p">],</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;documents&quot;</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="p">)</span>
</span></code></pre></div>
<p><strong>Query:</strong> Find similar vectors.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">results</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>    <span class="n">vector</span><span class="o">=</span><span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>  <span class="c1"># Query vector</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>    <span class="n">top_k</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>    <span class="n">include_metadata</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>    <span class="nb">filter</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;report.pdf&quot;</span><span class="p">},</span>  <span class="c1"># Optional metadata filter</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;documents&quot;</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="p">)</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">results</span><span class="o">.</span><span class="n">matches</span><span class="p">:</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ID: </span><span class="si">{</span><span class="n">match</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">, Score: </span><span class="si">{</span><span class="n">match</span><span class="o">.</span><span class="n">score</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Metadata: </span><span class="si">{</span><span class="n">match</span><span class="o">.</span><span class="n">metadata</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Delete:</strong> Remove vectors.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">index</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>    <span class="n">ids</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;doc1&quot;</span><span class="p">,</span> <span class="s2">&quot;doc2&quot;</span><span class="p">],</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;documents&quot;</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="p">)</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="c1"># Or delete by filter</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="n">index</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>    <span class="nb">filter</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;old_report.pdf&quot;</span><span class="p">},</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>    <span class="n">namespace</span><span class="o">=</span><span class="s2">&quot;documents&quot;</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="p">)</span>
</span></code></pre></div>
<h3 id="metadata-filtering">Metadata Filtering<a class="headerlink" href="#metadata-filtering" title="Permanent link">&para;</a></h3>
<p>Metadata lets you filter results without affecting vector similarity:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Only return documents from 2024</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">results</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>    <span class="n">vector</span><span class="o">=</span><span class="n">query_embedding</span><span class="p">,</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>    <span class="n">top_k</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>    <span class="nb">filter</span><span class="o">=</span><span class="p">{</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>        <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;$gte&quot;</span><span class="p">:</span> <span class="mi">2024</span><span class="p">}</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>    <span class="p">}</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="p">)</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="c1"># Complex filters</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="n">results</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>    <span class="n">vector</span><span class="o">=</span><span class="n">query_embedding</span><span class="p">,</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>    <span class="n">top_k</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>    <span class="nb">filter</span><span class="o">=</span><span class="p">{</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>        <span class="s2">&quot;$and&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a>            <span class="p">{</span><span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;$eq&quot;</span><span class="p">:</span> <span class="s2">&quot;documentation&quot;</span><span class="p">}},</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a>            <span class="p">{</span><span class="s2">&quot;language&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;$in&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;en&quot;</span><span class="p">,</span> <span class="s2">&quot;es&quot;</span><span class="p">]}}</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a>        <span class="p">]</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>    <span class="p">}</span>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="p">)</span>
</span></code></pre></div>
<p>Filtering happens before or during vector search (implementation varies). Highly selective filters can speed up search; unselective filters may slow it down.</p>
<h3 id="what-pinecone-handles-vs-what-you-handle">What Pinecone Handles vs What You Handle<a class="headerlink" href="#what-pinecone-handles-vs-what-you-handle" title="Permanent link">&para;</a></h3>
<p><strong>Pinecone handles:</strong>
- Index storage and management
- Query routing and load balancing
- Scaling (replicas, sharding)
- Index building and optimization</p>
<p><strong>You handle:</strong>
- Generating embeddings (Pinecone stores vectors, not text)
- Chunking documents
- Managing metadata
- Application-level logic (RAG pipeline, caching)</p>
<h3 id="execution-model-of-a-query">Execution Model of a Query<a class="headerlink" href="#execution-model-of-a-query" title="Permanent link">&para;</a></h3>
<p>When you call <code>index.query()</code>:</p>
<ol>
<li><strong>Serialize:</strong> Your query vector and filters are serialized</li>
<li><strong>Network:</strong> Request travels to Pinecone's servers</li>
<li><strong>Routing:</strong> Request is routed to the right shard(s)</li>
<li><strong>Search:</strong> HNSW (or similar) search on each relevant shard</li>
<li><strong>Filter:</strong> Results filtered by metadata</li>
<li><strong>Merge:</strong> Results from shards are merged and ranked</li>
<li><strong>Response:</strong> Top-k results returned to you</li>
</ol>
<p>Latency depends on:
- Network (typically 5-50ms)
- Index size (larger = slightly slower)
- Filter selectivity (very selective filters can slow down)
- top_k (returning 100 is slower than 5)</p>
<p>Typical production latency: 10-100ms.</p>
<hr />
<h2 id="8-hybrid-search">8. Hybrid Search<a class="headerlink" href="#8-hybrid-search" title="Permanent link">&para;</a></h2>
<p>Pure vector search has limitations. Hybrid search combines vector similarity with keyword matching.</p>
<h3 id="why-semantic-search-alone-fails">Why Semantic Search Alone Fails<a class="headerlink" href="#why-semantic-search-alone-fails" title="Permanent link">&para;</a></h3>
<p>Vector search finds semantically similar content. But sometimes you need exact matches:</p>
<p><strong>Technical terms:</strong> "Python 3.12" should match "Python 3.12", not "Python 3.11"</p>
<p><strong>Names and identifiers:</strong> "John Smith" should match "John Smith", not "Jon Smythe"</p>
<p><strong>Codes and numbers:</strong> "Error E-7231" should match exactly</p>
<p><strong>Rare terms:</strong> Words the embedding model rarely saw may not be represented well</p>
<p>Vector search finds "about the same topic." Keyword search finds "contains these words." Both are useful.</p>
<h3 id="combining-dense-and-sparse-vectors">Combining Dense and Sparse Vectors<a class="headerlink" href="#combining-dense-and-sparse-vectors" title="Permanent link">&para;</a></h3>
<p>Hybrid search uses two types of vectors:</p>
<p><strong>Dense vectors:</strong> Traditional embeddings. Every dimension has a value. Captures semantic meaning.</p>
<p><strong>Sparse vectors:</strong> Most dimensions are zero. Non-zero dimensions correspond to specific words/tokens. Like TF-IDF or BM25.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># Dense embedding (from model)</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="n">dense</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">]</span>  <span class="c1"># 1536 non-zero values</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="c1"># Sparse embedding (keyword-based)</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="n">sparse</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>    <span class="s2">&quot;python&quot;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span>    <span class="c1"># Word &quot;python&quot; appears, high weight</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>    <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>     <span class="c1"># Word &quot;error&quot; appears</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>    <span class="c1"># Most words don&#39;t appear -&gt; effectively zero</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="p">}</span>
</span></code></pre></div>
<p>Search computes both similarities and combines them:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">final_score</span> <span class="o">=</span> <span class="n">alpha</span> <span class="o">*</span> <span class="n">dense_score</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">*</span> <span class="n">sparse_score</span>
</span></code></pre></div>
<h3 id="reranking">Reranking<a class="headerlink" href="#reranking" title="Permanent link">&para;</a></h3>
<p>Another approach: retrieve more candidates than needed, then rerank with a more expensive model.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1"># Stage 1: Fast vector search, get 50 candidates</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="n">candidates</span> <span class="o">=</span> <span class="n">vector_db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">query_embedding</span><span class="p">,</span> <span class="n">top_k</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="c1"># Stage 2: Rerank with cross-encoder</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="n">reranked</span> <span class="o">=</span> <span class="n">reranker</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">candidates</span><span class="p">])</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="c1"># Return top 5 after reranking</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="n">final</span> <span class="o">=</span> <span class="n">reranked</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</span></code></pre></div>
<p>Cross-encoders (like reranking models) are more accurate than bi-encoders (embedding models) but much slower. They can only be used on small candidate sets.</p>
<h3 id="reciprocal-rank-fusion">Reciprocal Rank Fusion<a class="headerlink" href="#reciprocal-rank-fusion" title="Permanent link">&para;</a></h3>
<p>When combining results from multiple retrieval methods (dense, sparse, keyword), Reciprocal Rank Fusion (RRF) is a simple, effective method:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">rrf_score</span><span class="p">(</span><span class="n">ranks</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">60</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Combine rankings from multiple sources.&quot;&quot;&quot;</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="n">k</span> <span class="o">+</span> <span class="n">rank</span><span class="p">)</span> <span class="k">for</span> <span class="n">rank</span> <span class="ow">in</span> <span class="n">ranks</span><span class="p">)</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="c1"># Example: document appears at rank 3 in dense, rank 10 in sparse</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="n">score</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">60</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">60</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># Higher is better</span>
</span></code></pre></div>
<p>RRF doesn't require calibrated scores  just ranks. It's robust to different score distributions across methods.</p>
<hr />
<h2 id="9-what-breaks-in-production">9. What Breaks in Production<a class="headerlink" href="#9-what-breaks-in-production" title="Permanent link">&para;</a></h2>
<p>Vector databases have specific failure modes. Understanding them prevents production surprises.</p>
<h3 id="dimensionality-mismatch-bugs">Dimensionality Mismatch Bugs<a class="headerlink" href="#dimensionality-mismatch-bugs" title="Permanent link">&para;</a></h3>
<p>The most common bug: vectors have the wrong dimension.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1"># Index expects 1536 dimensions</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="c1"># You send 768 dimensions</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="n">index</span><span class="o">.</span><span class="n">upsert</span><span class="p">([{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;doc1&quot;</span><span class="p">,</span> <span class="s2">&quot;values&quot;</span><span class="p">:</span> <span class="n">embedding_768</span><span class="p">}])</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="c1"># Error! Dimension mismatch</span>
</span></code></pre></div>
<p>This happens when:
- You change embedding models without rebuilding the index
- You mix embeddings from different models
- You truncate embeddings without updating the index</p>
<p>Prevention:
- Validate dimensions before upserting
- Include embedding model name in index name
- Test after any model changes</p>
<h3 id="index-rebuild-costs-and-downtime">Index Rebuild Costs and Downtime<a class="headerlink" href="#index-rebuild-costs-and-downtime" title="Permanent link">&para;</a></h3>
<p>Changing embedding models requires rebuilding the index. This means:
- Re-embed all documents (compute cost, time)
- Re-index everything (time)
- Potential downtime during transition</p>
<p>For large indexes, this can take hours or days.</p>
<p>Migration strategies:
- <strong>Blue-green:</strong> Build new index while old one serves traffic. Switch when ready.
- <strong>Dual-write:</strong> Write to both indexes during transition.
- <strong>Incremental:</strong> If possible, update gradually (rarely possible with model changes).</p>
<p>Plan for this before you need it.</p>
<h3 id="stale-embeddings">Stale Embeddings<a class="headerlink" href="#stale-embeddings" title="Permanent link">&para;</a></h3>
<p>Documents change. Embeddings become stale.</p>
<p>If a document is updated but not re-embedded:
- Search finds the old content
- User sees new content
- Mismatch confuses users</p>
<p>Synchronization approaches:
- <strong>Trigger-based:</strong> Re-embed on document update
- <strong>Periodic:</strong> Batch re-embed on schedule
- <strong>Hybrid:</strong> Trigger for important changes, periodic for others</p>
<p>Track embedding timestamps. Alert on staleness.</p>
<h3 id="cost-at-scale">Cost at Scale<a class="headerlink" href="#cost-at-scale" title="Permanent link">&para;</a></h3>
<p>Vector databases can be expensive:</p>
<p><strong>Storage:</strong> Vectors are large. 10M vectors at 1536 dimensions = 60GB just for vectors, plus metadata and index overhead.</p>
<p><strong>Compute:</strong> Every query uses CPU/GPU for similarity computation. High query volume = high compute cost.</p>
<p><strong>Managed service pricing:</strong> Pinecone, Weaviate Cloud, etc. charge for storage + compute. Costs can surprise you at scale.</p>
<p>Cost optimization:
- Lower dimensions if quality permits
- Fewer vectors (better chunking, deduplication)
- Cache frequent queries
- Batch queries where possible
- Consider self-hosting for very large scale</p>
<hr />
<h2 id="summary-the-vector-database-mental-model">Summary: The Vector Database Mental Model<a class="headerlink" href="#summary-the-vector-database-mental-model" title="Permanent link">&para;</a></h2>
<p>Vector databases store high-dimensional vectors and find nearest neighbors efficiently.</p>
<p><strong>Vectors</strong> are fixed-length arrays of floats. Dimension affects storage, speed, and quality.</p>
<p><strong>Similarity metrics</strong> define "close." Cosine similarity is standard for text embeddings.</p>
<p><strong>Indexing</strong> makes search fast. HNSW trades memory for speed with high accuracy. IVF uses less memory but lower accuracy.</p>
<p><strong>Hybrid search</strong> combines semantic (dense) and keyword (sparse) matching. Neither alone is sufficient.</p>
<p><strong>Production challenges</strong> include dimension mismatches, index rebuilds, stale embeddings, and costs.</p>
<hr />
<h2 id="interview-framing">Interview Framing<a class="headerlink" href="#interview-framing" title="Permanent link">&para;</a></h2>
<p><strong>"How do vector databases work?"</strong></p>
<p>"Vector databases store embeddings  high-dimensional vectors that represent semantic meaning  and enable fast similarity search. They use approximate nearest neighbor algorithms like HNSW to avoid O(n) brute-force search. HNSW builds a navigable graph structure that lets you find similar vectors by searching a small fraction of the database. The key tradeoffs are between speed, accuracy, and memory."</p>
<p><strong>"When would you use hybrid search?"</strong></p>
<p>"Pure vector search finds semantically similar content but can miss exact matches  specific names, codes, technical terms. Hybrid search combines dense embeddings with sparse keyword vectors like BM25. You'd use it when precision matters for specific terms, like searching documentation where 'Python 3.12' should match exactly, or when users search with product IDs and names."</p>
<p><strong>"What are the main challenges with vector databases in production?"</strong></p>
<p>"Dimensionality mismatch when you change embedding models  the new embeddings are incompatible with the old index. Index rebuilds are expensive and potentially cause downtime. Stale embeddings when documents are updated but not re-embedded. And cost scales with storage and query volume, which can surprise you. You need synchronization strategies, blue-green deployments for model changes, and cost monitoring."</p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 24, 2026 06:38:54 UTC">January 24, 2026</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 24, 2026 06:38:54 UTC">January 24, 2026</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright  2026 Jayant Nehra
    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/Jay-Nehra" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://linkedin.com/in/jayant-nehra" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.tabs", "navigation.sections", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.action.edit", "content.tabs.link"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>